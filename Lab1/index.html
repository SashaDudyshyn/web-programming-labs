<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Лабораторна робота №1</title>
</head>
<body>
    <h1>Лабораторна робота №1</h1>
    <p>Відкрийте консоль браузера (F12), щоб працювати з програмою.</p>

    <script>
        console.log("Інструкція:");
        console.log("Ця програма допомагає вирішити прямокутний трикутник.");
        console.log("Вона знаходить невідомі сторони та кути, якщо ви знаєте дві будь-які величини.");
        console.log("Щоб отримати результат, напишіть унизу команду triangle і в дужках вкажіть дані.");
        console.log("Порядок такий: triangle(значення, 'тип', значення, 'тип')");
        console.log("Ось слова-типи, які треба писати в лапках:");
        console.log("leg - якщо це катет");
        console.log("hypotenuse - якщо це гіпотенуза");
        console.log("adjacent angle - якщо це кут, прилеглий до катета");
        console.log("opposite angle - якщо це кут навпроти катета");
        console.log("angle - якщо це просто гострий кут (коли маєте гіпотенузу)");
        console.log("При вказанні величин кутів використовувати градуси");
        console.log("Приклад: щоб знайти все для катета 4 і гіпотенузи 8, введіть: triangle(4, ''leg'', 8, ''hypotenuse'')");
        
        const LEG = "leg";
        const HYPOTENUSE = "hypotenuse";
        const ADJ_ANGLE = "adjacent angle";
        const OPP_ANGLE = "opposite angle";
        const ANGLE = "angle";
        
        function triangle(val1, type1, val2, type2) {
            
            const validTypes = [LEG, HYPOTENUSE, ADJ_ANGLE, OPP_ANGLE, ANGLE];
            if (!validTypes.includes(type1) || !validTypes.includes(type2)) {
                console.log("Помилка: Невірний тип аргументу. Перечитайте інструкцію.");
                return "failed";
            }
        
            if (val1 <= 0 || val2 <= 0) {
                console.log("Помилка: Нуль або негативне значення");
                return "failed";
            }
        
            let a, b, c, alpha, beta;
        
            if (type1 === LEG && type2 === LEG) {
                a = val1;
                b = val2;
                c = Math.sqrt(a*a + b*b);
                alpha = Math.atan(a/b) * (180 / Math.PI);
                beta = 90 - alpha;
            } 
            else {
                const args = {};
                args[type1] = val1;
                args[type2] = val2;

                if (args[LEG] && args[HYPOTENUSE]) {
                    a = args[LEG];
                    c = args[HYPOTENUSE];
                    if (a >= c) {
                        console.log("Помилка: Катет не може бути більшим за гіпотенузу");
                        return "failed";
                    }
                    b = Math.sqrt(c*c - a*a);
                    alpha = Math.asin(a/c) * (180 / Math.PI);
                    beta = 90 - alpha;
                }
                else if (args[LEG] && args[OPP_ANGLE]) {
                    a = args[LEG];
                    alpha = args[OPP_ANGLE];
                    if (alpha >= 90) {
                         console.log("Помилка: Кут має бути гострим");
                         return "failed";
                    }
                    c = a / Math.sin(alpha * Math.PI / 180);
                    b = Math.sqrt(c*c - a*a);
                    beta = 90 - alpha;
                }
                else if (args[LEG] && args[ADJ_ANGLE]) {
                    a = args[LEG];
                    beta = args[ADJ_ANGLE];
                    if (beta >= 90) {
                         console.log("Помилка: Кут має бути гострим");
                         return "failed";
                    }
                    alpha = 90 - beta;
                    c = a / Math.cos(beta * Math.PI / 180);
                    b = Math.sqrt(c*c - a*a);
                }
                else if (args[HYPOTENUSE] && args[ANGLE]) {
                    c = args[HYPOTENUSE];
                    alpha = args[ANGLE]; 
                     if (alpha >= 90) {
                         console.log("Помилка: Кут має бути гострим");
                         return "failed";
                    }
                    beta = 90 - alpha;
                    a = c * Math.sin(alpha * Math.PI / 180);
                    b = c * Math.cos(alpha * Math.PI / 180);
                }
                else {
                    console.log("Помилка: Несумісна комбінація типів аргументів.");
                    return "failed";
                }
            }
        
            a = +a.toFixed(3);
            b = +b.toFixed(3);
            c = +c.toFixed(3);
            alpha = +alpha.toFixed(3);
            beta = +beta.toFixed(3);

            console.log(`a = ${a}`);
            console.log(`b = ${b}`);
            console.log(`c = ${c}`);
            console.log(`alpha = ${alpha}`);
            console.log(`beta = ${beta}`);
        
            return "success"; 
        }
    </script>
</body>
</html>
